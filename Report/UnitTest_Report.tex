\documentclass{scrartcl}

\usepackage[utf8]{inputenc}

\usepackage{amsmath}
\usepackage{babel}

\usepackage{xcolor}
\usepackage{tikz}
\usetikzlibrary{arrows.meta,calc,decorations.markings,arrows,positioning,fit,intersections,patterns,scopes,datavisualization,backgrounds}
\usetikzlibrary{shapes.geometric,decorations.pathreplacing,shadings,decorations.text}

\usepackage{hyperref}
\usepackage[footnotes,definitionLists,smartEllipses,hybrid,pipeTables=true,shiftHeadings=1,tableCaptions=true]{markdown}
\usepackage[edges]{forest}

\usepackage{booktabs}
\usepackage{cleveref}

\usepackage{paralist}

\usepackage{pifont}
\newcommand{\jaja}{\ding{51}}
\newcommand{\nope}{\ding{55}}

\usepackage{tabularx}
\renewcommand\tabularxcolumn[1]{m{#1}}% for vertical centering text in X column
\newcolumntype{Y}{>{\centering\arraybackslash}X}

\title{Appendix B: IFC Files and Descriptions (DEPL Part)}
\author{Files submitted to IFC Infrastructure Extension Deployment project}
\date{document automatically generated on: \today}

\setkeys{Gin}{width=\linewidth}

\usepackage{ltablex}
\usepackage{tabularx}
\usepackage{booktabs}

\usepackage{datetime2}

\usepackage{fancyhdr}
\pagestyle{fancy}
\lhead{}
\chead{\includegraphics[width=0.4\textwidth]{bSI_Logo2021.png}}
\rhead{}
\setlength\headheight{45pt} 

\makeatletter
\def\markdownLaTeXReadAlignments#1{%
\advance\markdownLaTeXColumnCounter by 1\relax%
\if#1d%
\addto@hook\markdownLaTeXTableAlignment{p{0.5\textwidth}}%
\else%
\addto@hook\markdownLaTeXTableAlignment{#1}%
\fi\ifnum\markdownLaTeXColumnCounter<\markdownLaTeXColumnTotal\relax\else\expandafter\@gobble%
\fi\markdownLaTeXReadAlignments%
}
\makeatother

\begin{document}

\maketitle
\addtocontents{toc}{~\hfill\textbf{Page}\par}

\section{Summary}
\label{sec:summary}

This is a summary document of all unit tests submitted during the IFC Infrastructure Extensions Deployment project until \DTMdisplaydate{2021}{7}{16}{}.

This Section is structured as follows:
\begin{compactitem}
  \item guidance on how to read the document in \cref{sec:how_to},
  \item a list of all unit tests, their status of approval, and source of data in \cref{sec:status},
  \item an overview of the covered entities by all approved unit tests in \cref{sec:coverage},
  \item an overview over the dependencies between individual unit tests in \cref{sec:schematics}, and
  \item a table of content in \cref{sec:content}.
\end{compactitem}
\Cref{sec:project_setup,sec:alignment,sec:geotechnics,sec:domain_specifics,sec:earthworks,sec:geodetic_survey,sec:combinations,sec:georeferencing_and_dtms,sec:drainage_system,sec:other,sec:spatial_structure} are automatically generated from the \texttt{readme} files of individual unit tests.
The grouping of individual unit tests under these sections is (almost) arbitrary.


The originating documentation together with all mentioned files can be obtained
 from the project's official GitHub repository\footnote{\url{https://github.com/bSI-InfraRoom/IFC-infra-unit-test}}.

\subsection{How to read the document}
\label{sec:how_to}

Each unit test is within its own section.
The included figures are \emph{floating} in this document, so they may appear at the top of the page,
 even though they are mentioned later in the text.
All figures are always flushed before the next section starts, so that there is no doubt of their assignment to the unit test.

\subsection{Status}
\label{sec:status}

\begin{tabularx}{\textwidth}{Ycccc}
  \caption{An overview of the unit tests. The table lists the authoring software (Export) of the unit test, if it was checked by the technical team of the project (Checked), if it was successfully imported into another software solution, and if the unit tests stems from a storyline.}
  \label{tab:unit_tests} \\
  \toprule
    Unit test    & Export     & Checked       & Import      & SL \\
  \midrule
    test \\
  \bottomrule
\end{tabularx}

\subsection{Coverage}
\label{sec:coverage}

\Cref{tab:coverage} lists all IFC entities occurring in all accepted and approved unit tests.
The number next to each entity shows how many times this entity occurs\footnotemark{}.

\footnotetext{The content has been joined in Appendix C of the deliverable with the covered entities by the IFC Rail Phase 2 project but is also included here for completeness.}

\begin{tabularx}{\textwidth}{rX}
  \caption{The covered entities of all unit test files combined.}\label{tab:coverage} \\
  \toprule
    Occurance & Entity \\
  \midrule
  \endfirsthead
  \caption[]{\emph{(cont.)} The covered entities of all unit test files combined.} \\
  \toprule
    Occurance & Entity \\
  \midrule
  \endhead
  \bottomrule
  \multicolumn{2}{r}{\footnotesize(continued)}
  \endfoot
  \bottomrule
  \endlastfoot
  \input{../Report/coverageTable.tex}
\end{tabularx}

\subsection{Schematics}
\label{sec:schematics}

\Cref{fig:schematics} represents the dependencies between the individual unit tests.
Unit tests are represented as boxes, while the arrows point from the dependant to the independent unit test.
Each unit test has a link to the corresponding section of this document in the upper right corner.

\tikzset{every label/.style={xshift=3ex, text width=10ex, align=left, 
                             inner sep=1pt, font=\footnotesize}}
\tikzset{pr/.style={dashed}}
\tikzset{star/.style={draw=none,anchor=north east,inner sep=2pt}}
\begin{figure}
  \begin{forest}
    for tree={              % style of tree nodes
      font=\footnotesize,
      draw, semithick, rounded corners,minimum width=7em,
            align = center,
        inner sep = 1pt,
                            % style of tree (edges, distances, direction)
             edge = {draw, semithick, latex'-},
    parent anchor = east,
     child anchor = west,
             grow = east,
    forked edge,            % for forked edge
            l sep = 6mm,   % level distance
         fork sep = 3mm,    % distance from parent to branching point
                }
    [Setup-1,name=boiler1,label=\labelcref{sec:project_setup_1}
      [Road-6,name=road6,label=\labelcref{sec:road_6},pr
      ],
      [Road-2,name=road2,label=\labelcref{sec:road_2},pr
      ],
      [Road-1,name=road1,label=\labelcref{sec:road_1},pr
      ],
      [Spatial-1,name=spatial1,label=\labelcref{sec:spatial_1}
        [Spatial-8,name=spatial8,label=\labelcref{sec:spatial_8},pr
        ],
        [Spatial-7,name=spatial7,label=\labelcref{sec:spatial_7},pr
        ] { \node[star] at (.north east) {*}; },
        [Spatial-6,name=spatial6,label=\labelcref{sec:spatial_6}
        ] { \node[star] at (.north east) {*}; },
        [Spatial-5,name=spatial5,label=\labelcref{sec:spatial_5}
        ],
        [Spatial-4,name=spatial4,label=\labelcref{sec:spatial_4}
          [Drainage-2,name=drainage2,label=\labelcref{sec:drainage_2}
          ] { \node[star] at (.north east) {*}; },
          [Drainage-1,name=drainage1,label=\labelcref{sec:drainage_1}
          ] { \node[star] at (.north east) {*}; },
        ] { \node[star] at (.north east) {*}; },
        [Spatial-3,name=spatial3,label=\labelcref{sec:spatial_3}
          [CostItems-1,name=other1,label=\labelcref{sec:other_1},pr
          ] { \node[star] at (.north east) {*}; },
        ],
        [Spatial-2,name=spatial2,label=\labelcref{sec:spatial_2}
        ],
      ],
      [Bridge-1,name=bridge1,label=\labelcref{sec:bridge_1},pr
      ],
      [Marine-2,name=marine2,label=\labelcref{sec:marine_2}
      ] { \node[star] at (.north east) {*}; },
      [Marine-1,name=marine1,label=\labelcref{sec:marine_1},pr
      ] { \node[star] at (.north east) {*}; },
      [Properties-1,name=other2,label=\labelcref{sec:other_2}
        [Properties-2,name=other3,label=\labelcref{sec:other_3}
        ],
      ],
      [Setup-2,name=boiler2,label=\labelcref{sec:project_setup_2}
      ],
      [GeoRef-1,name=georef1,label=\labelcref{sec:georeferencing_1}
        [Survey-1,name=survey1,label=\labelcref{sec:survey_1}
          [Survey-2,name=survey2,label=\labelcref{sec:survey_2},pr
            [Survey-4,name=survey4,label=\labelcref{sec:survey_4}
            ],
            [Survey-3,name=survey3,label=\labelcref{sec:survey_3},pr
            ]{
              \draw[-latex'] (survey4.60) -- (.300);
            },
          ],
        ],
        [GeoRef-3,name=georef3,label=\labelcref{sec:georeferencing_3},pr          
          [GeoRef-4,name=georef4,label=\labelcref{sec:georeferencing_4},pr
          ]
        ],
      ] {
        \draw[-latex'] () to[out=north,in=south] (tin1);
      },
      [TIN-1,name=tin1,label=\labelcref{sec:tin_1}
        [GeoRef-TIN-1,name=georeftin1,label=\labelcref{sec:georef_tin_1} 
          [GeoRef-TIN-4,name=georeftin4,label=\labelcref{sec:georef_tin_4}
          ],
          [GeoRef-TIN-3,name=georeftin3,label=\labelcref{sec:georef_tin_3}
          ],      
          [GeoRef-TIN-2,name=georeftin2,label=\labelcref{sec:georef_tin_2}
          ],
          [Combi-2,name=combi2,label=\labelcref{sec:georef_earth_1}
            [Combi-3,name=combi3,label=\labelcref{sec:georef_earth_2},pr
            ]
          ] { \draw[-latex'] () to[out=north west,in=east] (earth1); }
        ] { \draw[-latex'] () to[out=south west,in=north east] (georef1); }
      ],
      [Earthworks-3,name=earth3,label=\labelcref{sec:earth_3},pr
      ],
      [Earthworks-0,name=earth0,label=\labelcref{sec:earth_0}
        [Earthworks-2,name=earth2,label=\labelcref{sec:earth_2}
        ],
        [Earthworks-1,name=earth1,label=\labelcref{sec:earth_1}
        ],
      ],
      [Geotechnics-1,name=geotech1,label=\labelcref{sec:borehole_1}
      ] { \node[star] at (.north east) {*}; },      
      [Alignment-17,name=align17,label=\labelcref{sec:align_17},pr  
        [Alignment-18,name=align18,label=\labelcref{sec:align_18},pr
        ],
      ],   
      [Alignment-14,name=align14,label=\labelcref{sec:align_14},pr
        [Road-4,name=road4,label=\labelcref{sec:road_4},pr
        ] { \node[star] at (.north east) {*}; },
        [Road-5,name=road5,label=\labelcref{sec:road_5}
        ] { \node[star] at (.north east) {*}; },
      ] { \node[star] at (.north east) {*}; },
      [Alignment-13,name=align13,label=\labelcref{sec:align_13},pr
        [Road-3,name=road3,label=\labelcref{sec:road_3},pr
        ],
      ],
      [Alignment-12,name=align12,label=\labelcref{sec:align_12},pr
        [Alignment-15,name=align15,label=\labelcref{sec:align_15},pr
        ],
        [Alignment-16,name=align16,label=\labelcref{sec:align_16},pr
        ],
      ],
      [Alignment-20,name=align20,label=\labelcref{sec:align_20}
      ],
      [Alignment-19,name=align19,label=\labelcref{sec:align_19}
      ],
      [FixRefSolid-1,name=fixed1,label=\labelcref{sec:earth_4}
      ],
      [Alignment-1,name=align1,label=\labelcref{sec:align_1}
        [Alignment-9,name=align9,label=\labelcref{sec:align_9},pr
          [Alignment-11,name=align11,label=\labelcref{sec:align_11}
          ],
          [Alignment-10,name=align10,label=\labelcref{sec:align_10},pr
          ]
        ],
        [Alignment-8,name=align8,label=\labelcref{sec:align_8}
        ],
        [Alignment-6,name=align6,label=\labelcref{sec:align_6}
          [Alignment-7,name=align7,label=\labelcref{sec:align_7}
          ]
        ],
        [Alignment-4,name=align4,label=\labelcref{sec:align_4}
          [Alignment-5,name=align5,label=\labelcref{sec:align_5}
          ],
        ],
        [Alignment-2,name=align2,label=\labelcref{sec:align_2}
          [Alignment-3,name=align3,label=\labelcref{sec:align_3}
          ],
        ],
      ],
    ]  
  \end{forest}
  \caption{Schematic representation of unit tests and their dependencies.
           Dashed boxes mean that they are still under review.
           A star in the upper right corner means that the unit test has been derived from a storyline.}
  \label{fig:schematics}
\end{figure}

\subsection{Overview over the Content}
\label{sec:content}
\renewcommand\contentsname{}
\tableofcontents
\clearpage

% -------------------------------------------------------------------------------
\section{Project Setup}
\label{sec:project_setup}

\subsection{Project Setup 1}
\label{sec:project_setup_1}
\markdownInput{../ProjectSetup-1/readme.md}
\clearpage

\subsection{Project Setup 2}
\label{sec:project_setup_2}
\markdownInput{../ProjectSetup-2/readme.md}
\clearpage

% -------------------------------------------------------------------------------
\section{Georeferencing and Digital Terrain Models (DTMs)}
\label{sec:georeferencing_and_dtms}

\subsection{TIN 1}
\label{sec:tin_1}
\markdownInput{../Tin-1/readme.md}
\clearpage

\subsection{Georeferencing 1}
\label{sec:georeferencing_1}
\markdownInput{../Georeferencing-1/readme.md}
\clearpage

\subsection{Georeferencing 2} % PR#85
\label{sec:georeferencing_3}
Under review.%\markdownInput{../Georeferencing-3/readme.md}
\clearpage

\subsection{Georeferencing 3} % PR#85
\label{sec:georeferencing_4}
Under review.%\markdownInput{../Georeferencing-4/readme.md}
\clearpage

\subsection{Georeferencing and DTM 1}
\label{sec:georef_tin_1}
\markdownInput{../Georeferencing-Tin-12d-1/readme.md}
\clearpage

\subsection{Georeferencing and DTM 2}
\label{sec:georef_tin_2}
\markdownInput{../Georeferencing-Tin-12d-2/readme.md}
\clearpage

\subsection{Georeferencing and DTM 3} % PR#20
\label{sec:georef_tin_3}
\markdownInput{../Georeferencing-Tin-12d-3/readme.md}
\clearpage

\subsection{Georeferencing and DTM 4} % PR#21
\label{sec:georef_tin_4}
\markdownInput{../Georeferencing-Tin-12d-4/readme.md}
\clearpage

% -------------------------------------------------------------------------------
\section{Alignment}
\label{sec:alignment}

\subsection{Alignment 1}
\label{sec:align_1}
\markdownInput{../Alignment-12d-1/readme.md}
\clearpage

\subsection{Alignment 2}
\label{sec:align_2}
\markdownInput{../Alignment-12d-2/readme.md}
\clearpage

\subsection{Alignment 3}
\label{sec:align_3}
\markdownInput{../Alignment-12d-3/readme.md}
\clearpage

\subsection{Alignment 4}
\label{sec:align_4}
\markdownInput{../Alignment-12d-4/readme.md}
\clearpage

\subsection{Alignment 5}
\label{sec:align_5}
\markdownInput{../Alignment-12d-5/readme.md}
\clearpage

\subsection{Alignment 6} % PR#25
\label{sec:align_6}
\markdownInput{../Alignment-12d-6/readme.md}
\clearpage

\subsection{Alignment 7} % PR#26
\label{sec:align_7}
\markdownInput{../Alignment-12d-7/readme.md}
\clearpage

\subsection{Alignment 8} % PR#29
\label{sec:align_8}
\markdownInput{../Alignment-12d-8/readme.md}
\clearpage

\subsection{Alignment 9} % PR#31
\label{sec:align_9}
Under review.%\markdownInput{../Alignment-12d-9/readme.md}
\clearpage

\subsection{Alignment 10} % PR#38
\label{sec:align_10}
Under review.%\markdownInput{../Alignment-12d-10/readme.md}
\clearpage

\subsection{Alignment 11} % PR#42
\label{sec:align_11}
\markdownInput{../Alignment-12d-11/readme.md}
\clearpage

\subsection{Alignment 12} % PR#96
\label{sec:align_12}
Under review.%\markdownInput{../Alignment-Aplitop-1/readme.md}
\clearpage

\subsection{Alignment 13} % PR#39
\label{sec:align_13}
Under review.%\markdownInput{../UT-Alignment-3/readme.md}
\clearpage

\subsection{Alignment 14} % PR#71 *
\label{sec:align_14}
Under review.%\markdownInput{../Alignment-INDOT/readme.md}
\clearpage

\subsection{Alignment 15} % PR#96
\label{sec:align_15}
Under review.%\markdownInput{../Alignment-Aplitop-2/readme.md}
\clearpage

\subsection{Alignment 16} % PR#96
\label{sec:align_16}
Under review.%\markdownInput{../Alignment-Aplitop-3/readme.md}
\clearpage

\subsection{Alignment 17} % PR#103
\label{sec:align_17}
Under review.%\markdownInput{../Georeferencing-Alignment-12d-1/readme.md}
\clearpage

\subsection{Alignment 18} % PR#107
\label{sec:align_18}
Under review.%\markdownInput{../Georeferencing-Alignment-12d-2/readme.md}
\clearpage

\subsection{Alignment 19} % PR#122
\label{sec:align_19}
\markdownInput{../Alignment-ACCA-1/README.md}
\clearpage

\subsection{Alignment 20} % PR#123
\label{sec:align_20}
\markdownInput{../Alignment-ACCA-2/README.md}
\clearpage

% -------------------------------------------------------------------------------
\section{Spatial Structure}
\label{sec:spatial_structure}

\subsection{Spatial Structure 1}
\label{sec:spatial_1}
\markdownInput{../SpatialStructure-1/readme.md}
\clearpage

\subsection{Spatial Structure 2}
\label{sec:spatial_2}
\markdownInput{../SpatialStructure-2/readme.md}
\clearpage

\subsection{Spatial Structure 3}
\label{sec:spatial_3}
\markdownInput{../SpatialStructure-3/readme.md}
\clearpage

\subsection{Spatial Structure 4}
\label{sec:spatial_4}
\markdownInput{../SpatialStructure-4/readme.md}
\clearpage

\subsection{Spatial Structure 5}
\label{sec:spatial_5}
\markdownInput{../SpatialStructure-5/readme.md}
\clearpage

\subsection{Spatial Structure 6}
\label{sec:spatial_6}
\markdownInput{../SpatialStructure-6/readme.md}
\clearpage

\subsection{Spatial Structure 7} % PR#116 *
\label{sec:spatial_7}
Under review.%\markdownInput{../SpatialStructure-7/README.md}
\clearpage

\subsection{Spatial Structure 8} % PR#65
\label{sec:spatial_8}
Under review.%\markdownInput{../CrossDisciplinary-1/README.md}
\clearpage

% -------------------------------------------------------------------------------
\section{Domain Specifics}
\label{sec:domain_specifics}

\subsection{Road 1}  % PR#52
\label{sec:road_1}
Under review.%\markdownInput{../UT-IfcCourse/readme.md}
\clearpage

\subsection{Road 2} % PR#52
\label{sec:road_2}
Under review.%\markdownInput{../UT-IfcPavement/readme.md}
\clearpage

\subsection{Road 3} % PR#40
\label{sec:road_3}
Under review.%\markdownInput{../UT-Road-1/readme.md}
\clearpage

\subsection{Road 4} % PR#71 *
\label{sec:road_4}
Under review.%\markdownInput{../SectionedSurface-INDOT/readme.md}
\clearpage

\subsection{Road 5} % PR#88 *
\label{sec:road_5}
\markdownInput{../RumbleStrip-INDOT/readme.md}
\clearpage

\subsection{Road 6} % PR#106 *
\label{sec:road_6}
Under review.%\markdownInput{../SectionedSurface-Aplitop-1/readme.md}
\clearpage

\subsection{Bridge 1} % PR#51
\label{sec:bridge_1}
Under review.%\markdownInput{../SectionedSolidHorizontal-1/readme.md}
\clearpage

\subsection{Marine 1} % PR#94
\label{sec:marine_1}
Under review.%\markdownInput{../MarineFurniture-1/readme.md}
\clearpage

\subsection{Marine 2} % PR#97
\label{sec:marine_2}
\markdownInput{../MarineFurniture-2/readme.md}
\clearpage

% -------------------------------------------------------------------------------
\section{Earthworks}
\label{sec:earthworks}

\subsection{Earthworks 0}
\label{sec:earth_0}
\markdownInput{../Earthworks-12d-0/readme.md}
\clearpage

\subsection{Earthworks 1}
\label{sec:earth_1}
\markdownInput{../Earthworks-12d-1/readme.md}
\clearpage

\subsection{Earthworks 2}
\label{sec:earth_2}
\markdownInput{../Earthworks-12d-2/readme.md}
\clearpage

\subsection{Earthworks 3}
\label{sec:earth_3}
Under review.%\markdownInput{../UT-Earthworks-01/readme.md}
\clearpage

\subsection{Earthworks 4} % PR #128
\label{sec:earth_4}
\markdownInput{../FixedReferenceSweptAreaSolid-1/README.md}
\clearpage

% -------------------------------------------------------------------------------
\section{Geotechnics}
\label{sec:geotechnics}

\subsection{Borehole 1}
\label{sec:borehole_1}
\markdownInput{../Borehole-1/readme.md}
\clearpage

% -------------------------------------------------------------------------------
\section{Geodetic Survey}
\label{sec:geodetic_survey}

\subsection{Survey 1}
\label{sec:survey_1}
\markdownInput{../Georeferencing-Survey-12d-1/readme.md}
\clearpage

\subsection{Survey 2} % PR#56
\label{sec:survey_2}
Under review.%\markdownInput{../Georeferencing-Survey-12d-2/readme.md}
\clearpage

\subsection{Survey 3} % PR#112
\label{sec:survey_3}
Under review.%\markdownInput{../Georeferencing-Survey-12d-3/readme.md}
\clearpage

\subsection{Survey 4} % PR#118
\label{sec:survey_4}
\markdownInput{../Georeferencing-Survey-12d-4/readme.md}
\clearpage


% -------------------------------------------------------------------------------
\section{Drainage System}
\label{sec:drainage_system}

\subsection{Drainage System 1}
\label{sec:drainage_1}
\markdownInput{../DrainageSystem-1/Readme.md}
\clearpage

\subsection{Drainage System 2}
\label{sec:drainage_2}
\markdownInput{../DrainageSystem-2/Readme.md}
\clearpage

% -------------------------------------------------------------------------------
\section{Combinations}
\label{sec:combinations}

\subsection{Combination 1: Georeferencing and Alignment and DTM} % PR#43
\label{sec:align_dtm_1}
Under review.%\markdownInput{../Georeferencing-Alignment-Tin-12d-1/readme.md}
\clearpage

\subsection{Combination 2: Georeferencing and Earthworks}
\label{sec:georef_earth_1}
\markdownInput{../Georeferencing-Earthworks-12d-1/readme.md}
\clearpage

\subsection{Combination 3: Georeferencing and Earthworks 2} % PR#50
\label{sec:georef_earth_2}
Under review.%\markdownInput{../Georeferencing-Earthworks-12d-2/readme.md}
\clearpage

\subsection{Combination 4: Alignment and DTM}
\label{sec:align_dtm_2}
Under review.%\markdownInput{../Alignment-Tin-1/readme.md}
\clearpage

% -------------------------------------------------------------------------------
\section{Other}
\label{sec:other}

\subsection{Other 1: Cost items} % PR#53 *
\label{sec:other_1}
Under review.%\markdownInput{../UT-CostItem-COWI/readme.md}
\clearpage

\subsection{Other 2: Properties 1} % PR#120
\label{sec:other_2}
\markdownInput{../Properties-1/README.md}
\clearpage

\subsection{Other 2: Properties 2} % PR#121
\label{sec:other_3}
\markdownInput{../Properties-2/README.md}
\clearpage


\end{document}
